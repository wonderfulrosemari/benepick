# Legacy combined example file.
# Recommended: use backend/.env/secrets.local.example.properties or backend/.env/secrets.server.example.properties.

DB_URL=jdbc:postgresql://localhost:5432/benepick
DB_USERNAME=postgres
DB_PASSWORD=postgres

JWT_SECRET=change-this-secret-key-to-at-least-32-bytes-benepick
JWT_ACCESS_MINUTES=15
JWT_REFRESH_DAYS=30
JWT_ISSUER=benepick

REFRESH_COOKIE_NAME=refresh_token
REFRESH_COOKIE_SECURE=false
REFRESH_COOKIE_SAMESITE=Lax
REFRESH_COOKIE_DOMAIN=

GOOGLE_CLIENT_ID=YOUR_GOOGLE_OAUTH_CLIENT_ID.apps.googleusercontent.com
GOOGLE_JWK_SET_URI=https://www.googleapis.com/oauth2/v3/certs

FRONTEND_ORIGIN=http://localhost:5173
SERVER_PORT=8080

FINLIFE_BASE_URL=https://finlife.fss.or.kr/finlifeapi
FINLIFE_AUTH_KEY=
FINLIFE_TOP_FIN_GRP_NO=020000
FINLIFE_MAX_PAGES_PER_GROUP=2
FINLIFE_CONNECT_TIMEOUT_MS=5000
FINLIFE_READ_TIMEOUT_MS=12000

# 카드 외부 동기화 모드: source | public-data | public-data-all
CARD_EXTERNAL_MODE=source
CARD_EXTERNAL_SOURCE_URL=
CARD_EXTERNAL_CONNECT_TIMEOUT_MS=4000
CARD_EXTERNAL_READ_TIMEOUT_MS=10000

# Product detail URL override file (optional)
CATALOG_PRODUCT_URL_OVERRIDES_PATH=./config/product-url-overrides.properties

# CARD_EXTERNAL_MODE=public-data (단일 소스)
CARD_PUBLIC_DATA_URL=
CARD_PUBLIC_DATA_SERVICE_KEY=
CARD_PUBLIC_DATA_SERVICE_KEY_PARAM=serviceKey
CARD_PUBLIC_DATA_PAGE_NO=1
CARD_PUBLIC_DATA_NUM_OF_ROWS=200
CARD_PUBLIC_DATA_EXTRA_QUERY=
CARD_PUBLIC_DATA_ITEMS_PATH=
CARD_PUBLIC_DATA_FORCE_JSON=true
CARD_PUBLIC_DATA_DEFAULT_PROVIDER_NAME=
CARD_PUBLIC_DATA_OFFICIAL_URL_FALLBACK=
CARD_PUBLIC_DATA_DEFAULT_TAGS=external
CARD_PUBLIC_DATA_DEFAULT_CATEGORIES=

# CARD_EXTERNAL_MODE=public-data-all (다중 소스)
CARD_PUBLIC_ALL_SERVICE_KEY=
CARD_PUBLIC_ALL_INCLUDE_KDB=true
CARD_PUBLIC_ALL_INCLUDE_KRPOST=true
CARD_PUBLIC_ALL_INCLUDE_FINANCE_STATS=true

CARD_PUBLIC_ALL_KDB_URL=https://apis.data.go.kr/B190030/GetCardProductInfoService/getCardProductList
CARD_PUBLIC_ALL_KDB_PAGE_NO=1
CARD_PUBLIC_ALL_KDB_NUM_OF_ROWS=500
CARD_PUBLIC_ALL_KDB_MAX_PAGES=20
CARD_PUBLIC_ALL_KDB_START_DATE=20210101
CARD_PUBLIC_ALL_KDB_END_DATE=20991231
CARD_PUBLIC_ALL_KDB_FORCE_JSON=true
CARD_PUBLIC_ALL_KDB_ITEMS_PATH=response.body.items.item
CARD_PUBLIC_ALL_KDB_PROVIDER=한국산업은행
CARD_PUBLIC_ALL_KDB_URL_FALLBACK=https://www.kdb.co.kr

CARD_PUBLIC_ALL_KRPOST_URL=https://apis.data.go.kr/1721301/KrpostCardProductView/CheckcardGoods
CARD_PUBLIC_ALL_KRPOST_PAGE_NO=1
CARD_PUBLIC_ALL_KRPOST_NUM_OF_ROWS=200
CARD_PUBLIC_ALL_KRPOST_MAX_PAGES=20
CARD_PUBLIC_ALL_KRPOST_PRODUCT_NAME=카드
CARD_PUBLIC_ALL_KRPOST_ITEMS_PATH=response.body.items.item
CARD_PUBLIC_ALL_KRPOST_PROVIDER=우체국
CARD_PUBLIC_ALL_KRPOST_URL_FALLBACK=https://www.epostbank.go.kr

CARD_PUBLIC_ALL_FIN_STATS_URL=https://apis.data.go.kr/1160100/service/GetCredCardCompInfoService/getCredCardCompGeneInfo
CARD_PUBLIC_ALL_FIN_STATS_PAGE_NO=1
CARD_PUBLIC_ALL_FIN_STATS_NUM_OF_ROWS=500
CARD_PUBLIC_ALL_FIN_STATS_MAX_PAGES=20
CARD_PUBLIC_ALL_FIN_STATS_TITLE=신용카드_일반현황_임직원현황
CARD_PUBLIC_ALL_FIN_STATS_BASYM=
CARD_PUBLIC_ALL_FIN_STATS_RESULT_TYPE=json
CARD_PUBLIC_ALL_FIN_STATS_ITEMS_PATH=response.body.tableList[0].items.item
CARD_PUBLIC_ALL_FIN_STATS_PROVIDER=신용카드사
CARD_PUBLIC_ALL_FIN_STATS_URL_FALLBACK=https://www.fsc.go.kr

# Catalog auto-sync schedule
CATALOG_SYNC_ENABLED=true
CATALOG_SYNC_STARTUP_ENABLED=true
CATALOG_SYNC_SCHEDULED_ENABLED=true
CATALOG_SYNC_FINLIFE_ENABLED=true
CATALOG_SYNC_CARDS_ENABLED=true
CATALOG_SYNC_CRON=0 30 3 * * *
CATALOG_SYNC_ZONE=Asia/Seoul

# Recommendation scoring tuning (optional)
REC_SCORING_PROFILE=balanced # balanced|conservative|aggressive
REC_SCORE_ACCOUNT_BASE=45
REC_SCORE_ACCOUNT_SALARY=30
REC_SCORE_ACCOUNT_TRAVEL_OFTEN=28
REC_SCORE_ACCOUNT_YOUNG=18
REC_SCORE_ACCOUNT_DAILY=10
REC_SCORE_ACCOUNT_INTENT_HIT=6
REC_SCORE_ACCOUNT_PRIORITY_SAVINGS=34
REC_SCORE_ACCOUNT_PRIORITY_STARTER=24
REC_SCORE_ACCOUNT_PRIORITY_TRAVEL=22
REC_SCORE_ACCOUNT_PRIORITY_CASHBACK=14
REC_SCORE_ACCOUNT_HIGH_RATE_BONUS=8
REC_SCORE_ACCOUNT_YOUNG_MAX=34
REC_SCORE_ACCOUNT_DAILY_THRESHOLD=100
REC_SCORE_ACCOUNT_HIGH_RATE_THRESHOLD=3.5

REC_SCORE_CARD_BASE=45
REC_SCORE_CARD_CATEGORY_HIT=9
REC_SCORE_CARD_PRIORITY_CASHBACK=24
REC_SCORE_CARD_PRIORITY_TRAVEL=22
REC_SCORE_CARD_PRIORITY_STARTER=24
REC_SCORE_CARD_PRIORITY_SAVINGS=14
REC_SCORE_CARD_TRAVEL_OFTEN=28
REC_SCORE_CARD_DAILY=10
REC_SCORE_CARD_LOW_FEE_BONUS=8
REC_SCORE_CARD_HIGH_FEE_PENALTY=6
REC_SCORE_CARD_DAILY_THRESHOLD=80
REC_SCORE_CARD_HIGH_FEE_THRESHOLD_WON=20000

# Recommendation quality loop (optional)
REC_QUALITY_ENABLED=true
REC_QUALITY_STARTUP_ENABLED=true
REC_QUALITY_SCHEDULED_ENABLED=true
REC_QUALITY_CRON=0 10 4 * * *
REC_QUALITY_ZONE=Asia/Seoul
REC_QUALITY_WINDOW_DAYS=14
REC_QUALITY_MIN_RECOMMENDED=20
REC_QUALITY_LOW_CTR=5
REC_QUALITY_HIGH_CTR=18
REC_QUALITY_LOW_CVR=3
REC_QUALITY_HIGH_CVR=12
REC_QUALITY_MAX_WEIGHT_DELTA=20
