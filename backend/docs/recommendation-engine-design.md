# Benepick Recommendation Engine Design (Spring Boot)

## 1. 제품 목표
- 사용자 소비/거래 패턴 기반으로 `카드 + 계좌`를 추천한다.
- 추천 결과에서 해당 금융사 공식 페이지로 안전하게 이동시킨다.
- 서비스는 은행 업무를 대행하지 않고, 의사결정 지원과 연결에 집중한다.

## 2. 서비스 경계 (중요)

### In Scope
- 개인화 추천(카드/계좌/패키지)
- 추천 근거 및 예상 실익 계산
- 제휴/공식 사이트 이동 링크 제공
- 클릭/전환 로그 분석

### Out of Scope
- 계좌 개설/해지, 카드 발급/해지 같은 실제 은행 업무 처리
- 입출금/이체 실행
- 실명 인증 프로세스 대행

## 3. 수신 직무 관점 반영

### 3.1 LTV 기반 추천
- 단순 최고 금리보다 실현 가능한 우대조건 충족 확률을 반영
- `LTV 계수`를 사용해 장기 거래가치가 높은 조합 우선

### 3.2 교차 판매(Cross-selling)
- 계좌 + 카드 + 자동이체 조건을 하나의 패키지로 추천
- 패키지 기준 예상 추가 혜택 계산

### 3.3 비대면 트렌드 반영 방식
- 실제 인증을 수행하지 않고, 사용자가 공식 페이지에서 진행하도록 안내
- 추천 화면에는 가입 전 체크포인트(보안/조건/수수료) 가이드 제공

## 4. 점수 모델
- `월 순이익 = 카드혜택 + 계좌이자/우대금리 + 패키지보너스 - 연회비 - 조건충족비용 - 전환비용`
- `최종점수 = 월 순이익 * 조건달성계수 * 안정성계수 * LTV계수`

## 5. 핵심 API

### 인증
- `POST /api/auth/google`
- `POST /api/auth/refresh`
- `POST /api/auth/logout`
- `GET /api/auth/me`

### 추천
- `POST /api/recommendations/simulate`
- `GET /api/recommendations/{runId}`

### 이동(리다이렉트)
- `POST /api/recommendations/{runId}/redirect`
  - 사용자가 선택한 상품에 대해 클릭 로그를 남기고 공식 URL 반환

## 6. 포트폴리오에서 어필할 구현 포인트
- 복잡한 우대조건 정규화 모델링
- 추천 근거 설명 가능성 (조건별 예상 실익 노출)
- 클릭/전환 퍼널 분석으로 추천 개선 루프
- 보안 가이드 제공(스미싱/피싱 경고 포함)

## 7. 구현 우선순위
1. Auth API (Google/refresh/logout/me)
2. 추천 엔진(룰 기반) + 설명 출력
3. 공식 사이트 리다이렉트/클릭 로그
4. 패키지/우대금리 고도화
